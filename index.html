<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Study Star</title>
<style>
  :root {
    --primary: #024CAC;
    --secondary: #D2851A;
    --bg-light: #0a0a1a;
    --bg-dark: #ffffff;
    --text-light: #fff;
  }
  body, html {
    margin:0;
    padding:0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    height:100%;
    background-color:var(--bg-light);
    color:var(--text-light);
    overflow-x: hidden;
  }

  /* Stars animation background */
  body::before {
    content:'';
    position:fixed;
    width:100%;
    height:100%;
    background:transparent;
    z-index:-1;
  }

  @keyframes glow {
    0%,100% { text-shadow: 0 0 20px #fff, 0 0 40px #FFD700, 0 0 60px #FFD700;}
    50% { text-shadow: 0 0 10px #fff, 0 0 20px #FFD700, 0 0 30px #FFD700;}
  }

  /* Landing Page */
  #landing {
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    height:100vh;
    text-align:center;
    position:relative;
  }

  #landing h1 {
    font-size:6em;
    color:white;
    animation: glow 2s infinite alternate;
    margin:0;
    text-transform: uppercase;
    letter-spacing: 5px;
    position:relative;
  }

  /* Shooting stars */
  .shooting-star {
    position:absolute;
    width:2px;
    height:100px;
    background: linear-gradient(45deg, white, transparent);
    opacity:0.8;
    animation: shoot 1.5s linear infinite;
  }

  @keyframes shoot {
    0% {transform: translate(0,0) rotate(45deg); opacity:0;}
    10% {opacity:1;}
    100% {transform: translate(1000px,-1000px) rotate(45deg); opacity:0;}
  }

  #landing p {
    font-size:1.8em;
    margin:20px 0;
  }

  #begin-btn {
    padding:20px 50px;
    font-size:1.5em;
    background-color: var(--secondary);
    border:none;
    border-radius:12px;
    color:white;
    cursor:pointer;
    box-shadow: 0 0 25px var(--secondary);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  #begin-btn:hover {
    transform:scale(1.05);
    box-shadow:0 0 40px var(--secondary);
  }

  /* App layout */
  #app { display:none; flex-direction:row; height:100vh; }
  #sidebar {
    width:250px;
    background-color:var(--primary);
    color:white;
    display:flex;
    flex-direction:column;
    padding-top:20px;
  }
  #sidebar h2 { text-align:center; margin-bottom:20px; }
  #sidebar a {
    text-decoration:none;
    color:white;
    padding:15px 20px;
    margin:5px 10px;
    border-radius:8px;
  }
  #sidebar a:hover { background-color:var(--secondary); }
  #content { flex:1; padding:30px; overflow-y:auto; background-color:var(--bg-dark); }
  section { display:none; }
  section.active { display:block; }

  /* Buttons */
  .action-btn, #ask-btn {
    padding:10px 20px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    margin-top:10px;
  }
  .action-btn { background-color:var(--primary); color:white; }
  .action-btn:hover { background-color:var(--secondary); }
  #ask-btn { background-color:var(--secondary); color:white; }

  /* Answer area */
  #answer-area { margin-top:20px; font-size:1.2em; min-height:40px; color:#FFD700; }
</style>
</head>
<body>

<div id="landing">
  <h1>Study Star</h1>
  <p>Your ultimate study companion</p>
  <button id="begin-btn">Begin!</button>
</div>

<div id="app">
  <div id="sidebar">
    <h2>Study Star</h2>
    <a href="#" data-section="dashboard">Dashboard</a>
    <a href="#" data-section="settings">Settings</a>
    <a href="#" data-section="login">Login / Signup</a>
    <a href="#" data-section="progress">Progress</a>
  </div>
  <div id="content">
    <section id="dashboard" class="active">
      <h2>Dashboard</h2>
      <input type="text" id="user-question" placeholder="Ask Star a question...">
      <button id="ask-btn">Ask Star</button>
      <p id="answer-area"></p>
      <button class="action-btn" onclick="alert('Math module coming soon!')">Math</button>
      <button class="action-btn" onclick="alert('Coding module coming soon!')">Coding</button>
      <button class="action-btn" onclick="alert('Science module coming soon!')">Science</button>
    </section>
    <section id="settings">
      <h2>Settings</h2>
      <p>Logout / select learning preferences (placeholder)</p>
    </section>
    <section id="login">
      <h2>Login / Signup</h2>
      <p>Users can save progress here (placeholder)</p>
    </section>
    <section id="progress">
      <h2>Your Stars</h2>
      <p>Track your progress here (placeholder)</p>
      <div id="stars-container"></div>
    </section>
  </div>
</div>

<script>
  // Landing page
  document.getElementById('begin-btn').addEventListener('click', ()=>{
    document.getElementById('landing').style.display='none';
    document.getElementById('app').style.display='flex';
  });

  // Sidebar nav
  const links = document.querySelectorAll('#sidebar a');
  const sections = document.querySelectorAll('section');
  links.forEach(link=>{
    link.addEventListener('click', (e)=>{
      e.preventDefault();
      const target = link.getAttribute('data-section');
      sections.forEach(sec=>sec.id===target?sec.classList.add('active'):sec.classList.remove('active'));
    });
  });

  // Stars demo
  function addStar() {
    const starContainer = document.getElementById('stars-container');
    const star = document.createElement('span');
    star.textContent='â˜…';
    star.style.color='gold';
    star.style.fontSize='1.5em';
    star.style.marginRight='5px';
    starContainer.appendChild(star);
  }
  addStar();
  addStar();

  // Shooting stars effect
  function createShootingStar() {
    const star = document.createElement('div');
    star.className = 'shooting-star';
    star.style.left = Math.random() * window.innerWidth + 'px';
    star.style.top = Math.random() * window.innerHeight + 'px';
    star.style.animationDuration = (1 + Math.random() * 1.5) + 's';
    document.body.appendChild(star);
    setTimeout(()=>document.body.removeChild(star),2000);
  }
  setInterval(createShootingStar, 800);

  // Ask Star button (frontend only)
  document.getElementById('ask-btn').addEventListener('click', async ()=>{
    const question = document.getElementById('user-question').value;
    const answerArea = document.getElementById('answer-area');
    answerArea.textContent='Loading...';

    try {
      const res = await fetch('/ask', {  // <-- your backend endpoint
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({question})
      });
      const data = await res.json();
      answerArea.textContent=data.answer;
    } catch(err) {
      answerArea.textContent='Oops! Something went wrong.';
    }
  });
</script>

</body>
</html>
